<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dobby Finance Assistant</title>
    <link rel="icon" type="image/png" href="assets/favicon.png">
    <link rel="apple-touch-icon" href="assets/favicon.png">
    <link rel="stylesheet" href="src/main.css">
    <link rel="stylesheet" href="src/chat/chat.css">
</head>

<body>
    <header class="header">
        <div class="logo-container">
            <img src="assets/logo-dobby.png" alt="Dobby Finance Assistant" class="header-logo">
            <span>Dobby Finance Assistant</span>
        </div>
        <div class="header-buttons">
            <button id="apiSettingsBtn" class="api-btn">⚙️ API Settings</button>
            <button id="addExpenseBtn" class="add-btn">+ Add Expense</button>
        </div>
    </header>

    <main class="main-content">
        <section class="view-section">
            <div class="view-switcher">
                <button id="listViewBtn" class="view-btn active">List View</button>
                <button id="calendarViewBtn" class="view-btn">Calendar View</button>
            </div>
        </section>

        <section class="filter-section">
            <div class="filter-group">
                <label for="timeFilter">Time Filter:</label>
                <select id="timeFilter">
                    <option value="today">Today</option>
                    <option value="week">This Week</option>
                    <option value="month">This Month</option>
                    <option value="custom">Custom Range</option>
                </select>
            </div>
            <div class="filter-group date-range-group" id="dateRangeGroup" style="display: none;">
                <div class="date-input-group">
                    <div class="date-input-item">
                        <label for="startDate">From:</label>
                        <input type="date" id="startDate">
                    </div>
                    <div class="date-input-item">
                        <label for="endDate">To:</label>
                        <input type="date" id="endDate">
                    </div>
                </div>
            </div>
            <div class="filter-group">
                <label for="categoryFilter">Category Filter:</label>
                <select id="categoryFilter">
                    <option value="all">All Categories</option>
                    <option value="Food & Beverage">Food & Beverage</option>
                    <option value="Transportation">Transportation</option>
                    <option value="Rentals">Rentals</option>
                    <option value="Bills">Bills</option>
                    <option value="Education">Education</option>
                    <option value="Insurances">Insurances</option>
                    <option value="Pets">Pets</option>
                    <option value="Home Services">Home Services</option>
                    <option value="Fitness">Fitness</option>
                    <option value="Makeup">Makeup</option>
                    <option value="Gifts & Donations">Gifts & Donations</option>
                    <option value="Investment">Investment</option>
                    <option value="Others">Others</option>
                </select>
            </div>
        </section>

        <section class="summary-section">
            <div class="summary-card">
                <h3>Total Expenses</h3>
                <div id="totalAmount" class="amount">$0.00</div>
            </div>
        </section>

        <section class="expenses-section">
            <h2>Expenses History</h2>
            <div id="expensesList" class="expenses-list">
                <p class="no-expenses">No expenses recorded yet. Click "Add Expense" to get started!</p>
            </div>
        </section>

        <section id="calendarSection" class="calendar-section" style="display: none;">
            <div class="calendar-header">
                <div class="calendar-nav">
                    <button id="calendarBackBtn" class="calendar-nav-btn">Back</button>
                    <button id="calendarTodayBtn" class="calendar-nav-btn">Today</button>
                    <button id="calendarNextBtn" class="calendar-nav-btn">Next</button>
                </div>
                <div class="calendar-current">
                    <h2 id="calendarCurrentMonth">November 2025</h2>
                </div>
                <div class="calendar-view-options">
                    <button class="calendar-view-btn active" id="calendarMonthViewBtn">Month</button>
                    <button class="calendar-view-btn" id="calendarWeekViewBtn">Week</button>
                </div>
            </div>
            <div class="calendar-weekdays">
                <div class="calendar-weekday">Sun</div>
                <div class="calendar-weekday">Mon</div>
                <div class="calendar-weekday">Tue</div>
                <div class="calendar-weekday">Wed</div>
                <div class="calendar-weekday">Thu</div>
                <div class="calendar-weekday">Fri</div>
                <div class="calendar-weekday">Sat</div>
            </div>
            <div id="calendarGrid" class="calendar-grid"></div>
        </section>
    </main>

    <div id="expensePopup" class="popup-overlay">
        <div class="popup">
            <div class="popup-header">
                <h2>Add New Expense</h2>
                <button id="closePopup" class="close-btn">×</button>
            </div>
            <div class="popup-content">
                <form id="expenseForm">
                    <div class="form-group">
                        <label for="expenseDate">Date:</label>
                        <input type="date" id="expenseDate" required>
                    </div>
                    <div class="form-group">
                        <label for="expenseTime">Time:</label>
                        <input type="time" id="expenseTime" required>
                    </div>
                    <div class="form-group">
                        <label for="expenseAmount">Amount (USD):</label>
                        <input type="number" id="expenseAmount" step="0.01" min="0" required>
                    </div>
                    <div class="form-group">
                        <label for="expenseCategory">Category:</label>
                        <select id="expenseCategory" required>
                            <option value="">Select Category</option>
                            <option value="Food & Beverage">Food & Beverage</option>
                            <option value="Transportation">Transportation</option>
                            <option value="Rentals">Rentals</option>
                            <option value="Bills">Bills</option>
                            <option value="Education">Education</option>
                            <option value="Insurances">Insurances</option>
                            <option value="Pets">Pets</option>
                            <option value="Home Services">Home Services</option>
                            <option value="Fitness">Fitness</option>
                            <option value="Makeup">Makeup</option>
                            <option value="Gifts & Donations">Gifts & Donations</option>
                            <option value="Investment">Investment</option>
                            <option value="Others">Others</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="expenseNote">Note:</label>
                        <textarea id="expenseNote" rows="3" placeholder="Add a note (optional)"></textarea>
                    </div>
                    <div class="form-actions">
                        <button type="button" id="dontSaveBtn" class="btn btn-secondary">Don't Save</button>
                        <button type="submit" class="btn btn-primary">Save</button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <div id="doneNotification" class="done-notification">
        <img src="assets/done.png" alt="Done" class="done-icon">
        <span>Done!</span>
    </div>

    <div id="dayExpensesPopup" class="calendar-popup-overlay">
        <div class="calendar-popup">
            <div class="calendar-popup-header">
                <h2 id="calendarPopupTitle">Expenses</h2>
                <button id="closeDayPopup" class="calendar-close-btn">×</button>
            </div>
            <div id="calendarPopupContent" class="calendar-popup-content">
                <p class="calendar-popup-empty">No expenses recorded for this day.</p>
            </div>
        </div>
    </div>

    <script src="src/main.js"></script>
    <script src="src/api-settings/api-settings.js"></script>
    <script src="src/chat/chat.js"></script>
</body>

</html>